(()=>{var e={184:(e,t)=>{var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var l=typeof o;if("string"===l||"number"===l)e.push(o);else if(Array.isArray(o)){if(o.length){var a=r.apply(null,o);a&&e.push(a)}}else if("object"===l)if(o.toString===Object.prototype.toString)for(var s in o)n.call(o,s)&&o[s]&&e.push(s);else e.push(o.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,o),l.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=window.wp.element,n=window.wp.data,r=window.wp.coreData,l=window.wp.serverSideRender;var a=o.n(l);const s=window.wp.blockEditor;var i=o(184),c=o.n(i);const m=window.wp.components,p=window.wp.i18n,u=e=>{let{selected:o,onChange:n,taxonomies:r}=e;return(0,t.createElement)(m.SelectControl,{label:(0,p.__)("Display terms from this taxonomy","taxonomyblock"),value:o,options:[{label:(0,p.__)("-- Select a taxonomy --","taxonomyblock"),value:""},...r.map((e=>{let{name:t,slug:o}=e;return{label:t,value:o}}))],onChange:n})},y=e=>{let{taxonomies:o,attributes:n,setAttributes:r}=e;const{term:l,textAlign:a,separator:i,title:c}=n;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(s.InspectorControls,null,(0,t.createElement)(m.PanelBody,null,(0,t.createElement)(u,{taxonomies:o,selected:l,onChange:e=>{r({term:e})}})),(0,t.createElement)(m.PanelBody,null,(0,t.createElement)(m.TextControl,{autoComplete:"off",label:(0,p.__)("Separator","taxonomyblock"),value:i||"",onChange:e=>{r({separator:e})},help:(0,p.__)("Enter character(s) used to separate terms.","taxonomyblock")}),(0,t.createElement)(m.TextControl,{autoComplete:"off",label:(0,p.__)("Title","taxonomyblock"),value:c||"",onChange:e=>{r({title:e})},help:(0,p.__)("Title prefixed to the list of elements.","taxonomyblock")}))),(0,t.createElement)(s.BlockControls,null,(0,t.createElement)(s.AlignmentToolbar,{value:a,onChange:e=>{r({textAlign:e})}})))};(0,e.registerBlockType)("taxonomy-terms-list/block",{edit:e=>{let{attributes:o,context:l,setAttributes:i}=e;const{term:u,textAlign:b}=o,{postId:d,postType:x}=l,g=(0,n.useSelect)((e=>(e("core").getTaxonomies()||[]).filter((e=>e?.visibility?.publicly_queryable)))),f=g.filter((e=>{let{types:t}=e;return t.indexOf(x)>-1})),h=0===f.length?g:f,w=(0,n.useSelect)((e=>{if(!u)return{};const{getTaxonomy:t}=e(r.store),o=t(u);return o?.visibility?.publicly_queryable?o:{}}),[u]),{postTerms:v,isLoading:_}=function(e){let{postId:t,postType:o,term:n}=e;const{rest_base:l}=n,[a]=(0,r.useEntityProp)("postType",o,l,t);return{postTerms:a,isLoading:void 0===a}}({postId:d,postType:x,term:w}),T=f.some((e=>{let{slug:t}=e;return t===u}));(0,t.useEffect)((()=>{null!==v&&i({lastUpdate:(new Date).getTime()})}),[v]);const k=d&&x,E=(0,s.useBlockProps)({className:c()({[`has-text-align-${b}`]:b,[`taxonomy-block-${u}`]:u})});return(0,t.createElement)("div",E,k&&(0,t.createElement)(y,{taxonomies:h,attributes:o,setAttributes:i}),_&&u&&T&&(0,t.createElement)(m.Placeholder,{icon:"tag",label:(0,p.__)("Loading termsâ€¦","taxonomyblock")}),u&&!T&&!_&&(0,t.createElement)(m.Placeholder,{icon:"tag",label:(0,p.__)("Taxonomy Terms List","taxonomyblock"),instructions:(0,p.sprintf)(// translators: %s: Taxonomy name
(0,p.__)("This post hasn't got the %s taxonomy associated. This may happen inside the block editor context depending on the page you are trying to edit. The taxonomy terms list will be replaced for an actual list in the website.","taxonomyblock"),u)}),u&&!_&&T&&(0,t.createElement)(a(),{attributes:o,block:"taxonomy-terms-list/block",urlQueryArgs:{previewPostTerms:v}}),!u&&(0,t.createElement)(m.Placeholder,{icon:"tag",label:(0,p.__)("Taxonomy Terms List","taxonomyblock"),instructions:(0,p.__)("Please, select a taxonomy in the block options","taxonomyblock")}))}})})()})();